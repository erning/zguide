<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The ZeroMQ Guide - for C Developers</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="The ZeroMQ Guide - for C Developers" /><link rel="next" href="pr01.html" title="Preface" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The ZeroMQ Guide - for C Developers</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pr01.html">Next</a></td></tr></table><hr /></div><div class="book" title="The ZeroMQ Guide - for C Developers"><div class="titlepage"><div><div><h1 class="title"><a id="idp15570720"></a>The ZeroMQ Guide - for C Developers</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Pieter</span> <span class="surname">Hintjens</span></h3></div></div></div><hr /></div><div class="dedication" title="Dedication"><div class="titlepage"><div><div><h2 class="title"><a id="idp15623096"></a>Dedication</h2></div></div></div><p>This book is dedicated to the ØMQ community.</p><p><span class="bold"><strong>By Pieter Hintjens, CEO of iMatix</strong></span></p><p>Please use the <a class="ulink" href="https://github.com/imatix/zguide/issues" target="_top">issue tracker</a> for all comments and errata. This version covers the latest stable release of ØMQ (3.2). If you are using older versions of ØMQ then some of the examples and explanations won't be accurate.</p><p>The Guide is originally <a class="ulink" href="http://zguide.zeromq.org/page:all" target="_top">in C</a>, but also in <a class="ulink" href="http://zguide.zeromq.org/php:all" target="_top">PHP</a>, <a class="ulink" href="http://zguide.zeromq.org/py:all" target="_top">Python</a>, <a class="ulink" href="http://zguide.zeromq.org/lua:all" target="_top">Lua</a>, and <a class="ulink" href="http://zguide.zeromq.org/hx:all" target="_top">Haxe</a>. We've also translated most of the examples into C++, C#, CL, Delphi, Erlang, F#, Felix, Haskell, Java, Objective-C, Ruby, Ada, Basic, Clojure, Go, Haxe, Node.js, ooc, Perl, and Scala.</p></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="preface"><a href="pr01.html">Preface</a></span></dt><dd><dl><dt><span class="sect1"><a href="pr01.html#idp18920552">ØMQ in a Hundred Words</a></span></dt><dt><span class="sect1"><a href="pr01s02.html">How It Began</a></span></dt><dt><span class="sect1"><a href="pr01s03.html">The Zen of Zero</a></span></dt><dt><span class="sect1"><a href="pr01s04.html">Audience</a></span></dt><dt><span class="sect1"><a href="pr01s05.html">Acknowledgements</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch01.html">1. ØMQ基础</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch01.html#idp15580184">拯救世界</a></span></dt><dt><span class="sect1"><a href="ch01s02.html">需要具备的知识</a></span></dt><dt><span class="sect1"><a href="ch01s03.html">获取示例</a></span></dt><dt><span class="sect1"><a href="ch01s04.html">提问-回答</a></span></dt><dt><span class="sect1"><a href="ch01s05.html">关于字符串</a></span></dt><dt><span class="sect1"><a href="ch01s06.html">获取版本号</a></span></dt><dt><span class="sect1"><a href="ch01s07.html">让消息流动起来</a></span></dt><dt><span class="sect1"><a href="ch01s08.html">分布式处理</a></span></dt><dt><span class="sect1"><a href="ch01s09.html">使用ØMQ编程</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch01s09.html#idp19021160">正确地使用上下文</a></span></dt><dt><span class="sect2"><a href="ch01s09.html#idp19025576">正确地退出和清理</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch01s10.html">我们为什么需要ØMQ</a></span></dt><dt><span class="sect1"><a href="ch01s11.html">套接字的扩展性</a></span></dt><dt><span class="sect1"><a href="ch01s12.html">Upgrading from ØMQ v2.2 to ØMQ v3.2</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch01s12.html#idp19065048">Compatible Changes</a></span></dt><dt><span class="sect2"><a href="ch01s12.html#idp19067920">Incompatible Changes</a></span></dt><dt><span class="sect2"><a href="ch01s12.html#idp19077192">Suggested Shim Macros</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch01s13.html">Warning: Unstable Paradigms!</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch02.html">2. Sockets and Patterns</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch02.html#idp19089488">The Socket API</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch02.html#idp19096896">Plugging Sockets into the Topology</a></span></dt><dt><span class="sect2"><a href="ch02.html#idp19111568">Sending and Receiving Messages</a></span></dt><dt><span class="sect2"><a href="ch02.html#idp19117504">Unicast Transports</a></span></dt><dt><span class="sect2"><a href="ch02.html#idp19125480">ØMQ is Not a Neutral Carrier</a></span></dt><dt><span class="sect2"><a href="ch02.html#idp19131448">I/O Threads</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch02s02.html">Messaging Patterns</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch02s02.html#idp19144304">High-Level Messaging Patterns</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19147088">Working with Messages</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19174568">Handling Multiple Sockets</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19185912">Multipart Messages</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19194104">Intermediaries and Proxies</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19195912">The Dynamic Discovery Problem</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19205032">Shared Queue (DEALER and ROUTER sockets)</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19224320">ØMQ's Built-In Proxy Function</a></span></dt><dt><span class="sect2"><a href="ch02s02.html#idp19229976">Transport Bridging</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch02s03.html">Handling Errors and ETERM</a></span></dt><dt><span class="sect1"><a href="ch02s04.html">Handling Interrupt Signals</a></span></dt><dt><span class="sect1"><a href="ch02s05.html">Detecting Memory Leaks</a></span></dt><dt><span class="sect1"><a href="ch02s06.html">Multithreading with ØMQ</a></span></dt><dt><span class="sect1"><a href="ch02s07.html">Signaling Between Threads (PAIR Sockets)</a></span></dt><dt><span class="sect1"><a href="ch02s08.html">Node Coordination</a></span></dt><dt><span class="sect1"><a href="ch02s09.html">Zero-Copy</a></span></dt><dt><span class="sect1"><a href="ch02s10.html">Pub-Sub Message Envelopes</a></span></dt><dt><span class="sect1"><a href="ch02s11.html">High-Water Marks</a></span></dt><dt><span class="sect1"><a href="ch02s12.html">Missing Message Problem Solver</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch03.html">3. Advanced Request-Reply Patterns</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch03.html#idp19364168">The Request-Reply Mechanisms</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03.html#idp19366232">The Simple Reply Envelope</a></span></dt><dt><span class="sect2"><a href="ch03.html#idp19371520">The Extended Reply Envelope</a></span></dt><dt><span class="sect2"><a href="ch03.html#idp19387672">What's This Good For?</a></span></dt><dt><span class="sect2"><a href="ch03.html#idp19391160">Recap of Request-Reply Sockets</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s02.html">Request-Reply Combinations</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s02.html#idp19399632">The REQ to REP Combination</a></span></dt><dt><span class="sect2"><a href="ch03s02.html#idp19401000">The DEALER to REP Combination</a></span></dt><dt><span class="sect2"><a href="ch03s02.html#idp19404336">The REQ to ROUTER Combination</a></span></dt><dt><span class="sect2"><a href="ch03s02.html#idp19407664">The DEALER to ROUTER Combination</a></span></dt><dt><span class="sect2"><a href="ch03s02.html#idp19409072">The DEALER to DEALER Combination</a></span></dt><dt><span class="sect2"><a href="ch03s02.html#idp19410424">The ROUTER to ROUTER Combination</a></span></dt><dt><span class="sect2"><a href="ch03s02.html#idp19411920">Invalid Combinations</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s03.html">Exploring ROUTER Sockets</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s03.html#idp19416472">Identities and Addresses</a></span></dt><dt><span class="sect2"><a href="ch03s03.html#idp19425000">ROUTER Error Handling</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s04.html">The Load Balancing Pattern</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s04.html#idp19432240">ROUTER Broker and REQ Workers</a></span></dt><dt><span class="sect2"><a href="ch03s04.html#idp19442024">ROUTER Broker and DEALER Workers</a></span></dt><dt><span class="sect2"><a href="ch03s04.html#idp19448296">A Load Balancing Message Broker</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s05.html">A High-Level API for ØMQ</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s05.html#idp19490664">Features of a Higher-Level API</a></span></dt><dt><span class="sect2"><a href="ch03s05.html#idp19498192">The CZMQ High-Level API</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s06.html">The Asynchronous Client/Server Pattern</a></span></dt><dt><span class="sect1"><a href="ch03s07.html">Worked Example: Inter-Broker Routing</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s07.html#idp19553104">Establishing the Details</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19559848">Architecture of a Single Cluster</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19562680">Scaling to Multiple Clusters</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19576264">Federation Versus Peering</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19583256">The Naming Ceremony</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19595632">Prototyping the State Flow</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19611720">Prototyping the Local and Cloud Flows</a></span></dt><dt><span class="sect2"><a href="ch03s07.html#idp19641400">Putting it All Together</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch04.html">4. Reliable Request-Reply Patterns</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch04.html#idp19679256">What is "Reliability"?</a></span></dt><dt><span class="sect1"><a href="ch04s02.html">Designing Reliability</a></span></dt><dt><span class="sect1"><a href="ch04s03.html">Client-Side Reliability (Lazy Pirate Pattern)</a></span></dt><dt><span class="sect1"><a href="ch04s04.html">Basic Reliable Queuing (Simple Pirate Pattern)</a></span></dt><dt><span class="sect1"><a href="ch04s05.html">Robust Reliable Queuing (Paranoid Pirate Pattern)</a></span></dt><dt><span class="sect1"><a href="ch04s06.html">Heartbeating</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04s06.html#idp19764464">Shrugging It Off</a></span></dt><dt><span class="sect2"><a href="ch04s06.html#idp19766952">One-Way Heartbeats</a></span></dt><dt><span class="sect2"><a href="ch04s06.html#idp19770992">Ping-Pong Heartbeats</a></span></dt><dt><span class="sect2"><a href="ch04s06.html#idp19772480">Heartbeating for Paranoid Pirate</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch04s07.html">Contracts and Protocols</a></span></dt><dt><span class="sect1"><a href="ch04s08.html">Service-Oriented Reliable Queuing (Majordomo Pattern)</a></span></dt><dt><span class="sect1"><a href="ch04s09.html">Asynchronous Majordomo Pattern</a></span></dt><dt><span class="sect1"><a href="ch04s10.html">Service Discovery</a></span></dt><dt><span class="sect1"><a href="ch04s11.html">Idempotent Services</a></span></dt><dt><span class="sect1"><a href="ch04s12.html">Disconnected Reliability (Titanic Pattern)</a></span></dt><dt><span class="sect1"><a href="ch04s13.html">High-Availability Pair (Binary Star Pattern)</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04s13.html#idp19997720">Detailed Requirements</a></span></dt><dt><span class="sect2"><a href="ch04s13.html#idp20017544">Preventing Split-Brain Syndrome</a></span></dt><dt><span class="sect2"><a href="ch04s13.html#idp20020800">Binary Star Implementation</a></span></dt><dt><span class="sect2"><a href="ch04s13.html#idp20045712">Binary Star Reactor</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch04s14.html">Brokerless Reliability (Freelance Pattern)</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch04s14.html#idp20080512">Model One: Simple Retry and Failover</a></span></dt><dt><span class="sect2"><a href="ch04s14.html#idp20092136">Model Two: Brutal Shotgun Massacre</a></span></dt><dt><span class="sect2"><a href="ch04s14.html#idp20115664">Model Three: Complex and Nasty</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch04s15.html">Conclusion</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch05.html">5. Advanced Pub-Sub Patterns</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch05.html#idp20164648">Pros and Cons of Pub-Sub</a></span></dt><dt><span class="sect1"><a href="ch05s02.html">Pub-Sub Tracing (Espresso Pattern)</a></span></dt><dt><span class="sect1"><a href="ch05s03.html">Last Value Caching</a></span></dt><dt><span class="sect1"><a href="ch05s04.html">Slow Subscriber Detection (Suicidal Snail Pattern)</a></span></dt><dt><span class="sect1"><a href="ch05s05.html">High-Speed Subscribers (Black Box Pattern)</a></span></dt><dt><span class="sect1"><a href="ch05s06.html">Reliable Pub-Sub (Clone Pattern)</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch05s06.html#idp20244256">Centralized Versus Decentralized</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20248160">Representing State as Key-Value Pairs</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20290080">Getting an Out-of-Band Snapshot</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20310304">Republishing Updates from Clients</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20333464">Working with Subtrees</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20345008">Ephemeral Values</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20381608">Using a Reactor</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20401168">Adding the Binary Star Pattern for Reliability</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20450736">The Clustered Hashmap Protocol</a></span></dt><dt><span class="sect2"><a href="ch05s06.html#idp20474528">Building a Multithreaded Stack and API</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch06.html">6. The ØMQ Community</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch06.html#idp20536384">Architecture of the ØMQ Community</a></span></dt><dt><span class="sect1"><a href="ch06s02.html">How to Make Really Large Architectures</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s02.html#idp20550144">Psychology of Software Architecture</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20563672">The Importance of Contracts</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20573352">Eat Me</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20582312">The Process</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20584816">Crazy, Beautiful, and Easy</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20587728">Stranger, Meet Stranger</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20591496">Infinite Property</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idp20594336">Care and Feeding</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch06s03.html">The ØMQ Process: C4</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s03.html#idp20603384">Language</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20607048">Goals</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20618544">Preliminaries</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20629616">Licensing and Ownership</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20634888">Patch Requirements</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20644664">Development Process</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20665736">Creating Stable Releases</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20673944">Evolution of Public Contracts</a></span></dt><dt><span class="sect2"><a href="ch06s03.html#idp20687488">Project Administration</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch06s04.html">A Real-Life Example</a></span></dt><dt><span class="sect1"><a href="ch06s05.html">Git Branches Considered Harmful</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s05.html#idp20723184">Simplicity Versus Complexity</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20724688">Change Latency</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20726096">Learning Curve</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20727368">Cost of Failure</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20728456">Up-front Coordination</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20729288">Scalability</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20730816">Surprise and Expectations</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20732832">Economics of Participation</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20734088">Robustness in Conflict</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20735352">Guarantees of Isolation</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20736672">Visibility</a></span></dt><dt><span class="sect2"><a href="ch06s05.html#idp20737936">Conclusions</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch06s06.html">Designing for Innovation</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s06.html#idp20742752">The Tale of Two Bridges</a></span></dt><dt><span class="sect2"><a href="ch06s06.html#idp20745848">How ØMQ Lost Its Road Map</a></span></dt><dt><span class="sect2"><a href="ch06s06.html#idp20760592">Trash-Oriented Design</a></span></dt><dt><span class="sect2"><a href="ch06s06.html#idp20770080">Complexity-Oriented Design</a></span></dt><dt><span class="sect2"><a href="ch06s06.html#idp20778832">Simplicity Oriented Design</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch06s07.html">Burnout</a></span></dt><dt><span class="sect1"><a href="ch06s08.html">Patterns for Success</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s08.html#idp20798400">The Lazy Perfectionist</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20799992">The Benevolent Tyrant</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20801488">The Earth and Sky</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20802856">The Open Door</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20804120">The Laughing Clown</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20805336">The Mindful General</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20806560">The Social Engineer</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20807920">The Constant Gardener</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20809296">The Rolling Stone</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20811040">The Pirate Gang</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20812368">The Flash Mob</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20813664">The Canary Watcher</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20815088">The Hangman</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20816400">The Historian</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20817776">The Provocateur</a></span></dt><dt><span class="sect2"><a href="ch06s08.html#idp20819392">The Mystic</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch07.html">7. Advanced Architecture using ØMQ</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch07.html#idp20828872">Message-Oriented Pattern for Elastic Design</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07.html#idp20833352">Step 1: Internalize the Semantics</a></span></dt><dt><span class="sect2"><a href="ch07.html#idp20834984">Step 2: Draw a Rough Architecture</a></span></dt><dt><span class="sect2"><a href="ch07.html#idp20838736">Step 3: Decide on the Contracts</a></span></dt><dt><span class="sect2"><a href="ch07.html#idp20843312">Step 4: Write a Minimal End-to-End Solution</a></span></dt><dt><span class="sect2"><a href="ch07.html#idp20846488">Step 5: Solve One Problem and Repeat</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s02.html">Unprotocols</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s02.html#idp20848728">Protocols Without The Goats</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#idp20853752">Contracts Are Hard</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#idp20861960">How to Write Unprotocols</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#idp20869488">Why use the GPLv3 for Public Specifications?</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#idp20873984">Using ABNF</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#idp20879704">The Cheap or Nasty Pattern</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#idp20890824">Error Handling</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s03.html">Serializing Your Data</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s03.html#idp20893648">Abstraction Level</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#idp20896328">ØMQ Framing</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#idp20900008">Serialization Languages</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#idp20905400">Serialization Libraries</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#idp20911952">Handwritten Binary Serialization</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#idp20919656">Code Generation</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s04.html">Transferring Files</a></span></dt><dt><span class="sect1"><a href="ch07s05.html">State Machines</a></span></dt><dt><span class="sect1"><a href="ch07s06.html">Authentication Using SASL</a></span></dt><dt><span class="sect1"><a href="ch07s07.html">Large-Scale File Publishing: FileMQ</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s07.html#idp21045600">Why make FileMQ?</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21048672">Initial Design Cut: the API</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21052648">Initial Design Cut: the Protocol</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21058256">Building and Trying FileMQ</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21062232">Internal Architecture</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21074432">Public API</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21080776">Design Notes</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21087192">Configuration</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21094016">File Stability</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21095976">Delivery Notifications</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21097944">Symbolic Links</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21103200">Recovery and Late Joiners</a></span></dt><dt><span class="sect2"><a href="ch07s07.html#idp21115440">Test Use Case: The Track Tool</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s08.html">Getting an Official Port Number</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch08.html">8. A Framework for Distributed Computing</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch08.html#idp21136288">Design for The Real World</a></span></dt><dt><span class="sect1"><a href="ch08s02.html">The Secret Life of WiFi</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch08s02.html#idp21144824">Why Mesh Isn't Here Yet</a></span></dt><dt><span class="sect2"><a href="ch08s02.html#idp21150416">Some Physics</a></span></dt><dt><span class="sect2"><a href="ch08s02.html#idp21154936">What's the Current Status?</a></span></dt><dt><span class="sect2"><a href="ch08s02.html#idp15556944">Conclusions</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch08s03.html">Discovery</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch08s03.html#idp15560472">Service Discovery</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp15567624">Network Discovery</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21199400">The Use Case</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21209824">Technical Requirements</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21216856">A Self-Healing P2P Network in 30 Seconds</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21226160">Preemptive Discovery over Raw Sockets</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21238648">Cooperative Discovery Using UDP Broadcasts</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21257040">Multiple Nodes on One Device</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21261416">Designing the API</a></span></dt><dt><span class="sect2"><a href="ch08s03.html#idp21302864">More About UDP</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch08s04.html">Spinning Off a Library Project</a></span></dt><dt><span class="sect1"><a href="ch08s05.html">Point-to-Point Messaging</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch08s05.html#idp21321312">UDP Beacon Framing</a></span></dt><dt><span class="sect2"><a href="ch08s05.html#idp21330872">True Peer Connectivity (Harmony Pattern)</a></span></dt><dt><span class="sect2"><a href="ch08s05.html#idp21343592">Detecting Disappearances</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch08s06.html">Group Messaging</a></span></dt><dt><span class="sect1"><a href="ch08s07.html">Testing and Simulation</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch08s07.html#idp21369536">On Assertions</a></span></dt><dt><span class="sect2"><a href="ch08s07.html#idp21374256">On Up-Front Testing</a></span></dt><dt><span class="sect2"><a href="ch08s07.html#idp21379512">The Zyre Tester</a></span></dt><dt><span class="sect2"><a href="ch08s07.html#idp21394528">Test Results</a></span></dt><dt><span class="sect2"><a href="ch08s07.html#idp21413160">Tracing Activity</a></span></dt><dt><span class="sect2"><a href="ch08s07.html#idp21416280">Dealing with Blocked Peers</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch08s08.html">Distributed Logging and Monitoring</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch08s08.html#idp21437200">A Plausible Minimal Implementation</a></span></dt><dt><span class="sect2"><a href="ch08s08.html#idp21458192">Protocol Assertions</a></span></dt><dt><span class="sect2"><a href="ch08s08.html#idp21465368">Binary Logging Protocol</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch08s09.html">Content Distribution</a></span></dt><dt><span class="sect1"><a href="ch08s10.html">Writing the Unprotocol</a></span></dt><dt><span class="sect1"><a href="ch08s11.html">Example Zyre Application</a></span></dt><dt><span class="sect1"><a href="ch08s12.html">Conclusions</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch09.html">9. Postface</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch09.html#idp21503840">Tales from Out There</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#idp21504320">Rob Gagnon's Story</a></span></dt><dt><span class="sect2"><a href="ch09.html#idp21505664">Tom van Leeuwen's Story</a></span></dt><dt><span class="sect2"><a href="ch09.html#idp21508576">Michael Jakl's Story</a></span></dt><dt><span class="sect2"><a href="ch09.html#idp21510152">Vadim Shalts's Story</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09s02.html">How This Book Happened</a></span></dt><dt><span class="sect1"><a href="ch09s03.html">Removing Friction</a></span></dt><dt><span class="sect1"><a href="ch09s04.html">Licensing</a></span></dt></dl></dd></dl></div><div class="list-of-figures"><p><strong>List of Figures</strong></p><dl><dt>1. <a href="pr01s02.html#figure-1">A terrible accident...</a></dt><dt>1.1. <a href="ch01s04.html#figure-2">Request-Reply</a></dt><dt>1.2. <a href="ch01s05.html#figure-3">A ØMQ string</a></dt><dt>1.3. <a href="ch01s07.html#figure-4">Publish-Subscribe</a></dt><dt>1.4. <a href="ch01s08.html#figure-5">Parallel Pipeline</a></dt><dt>1.5. <a href="ch01s08.html#figure-6">Fair Queuing</a></dt><dt>1.6. <a href="ch01s10.html#figure-7">Messaging as it Starts</a></dt><dt>1.7. <a href="ch01s10.html#figure-8">Messaging as it Becomes</a></dt><dt>2.1. <a href="ch02.html#figure-9">TCP sockets are 1 to 1</a></dt><dt>2.2. <a href="ch02.html#figure-10">HTTP on the Wire</a></dt><dt>2.3. <a href="ch02.html#figure-11">ØMQ on the Wire</a></dt><dt>2.4. <a href="ch02s02.html#figure-12">Small-Scale Pub-Sub Network</a></dt><dt>2.5. <a href="ch02s02.html#figure-13">Pub-Sub Network with a Proxy</a></dt><dt>2.6. <a href="ch02s02.html#figure-14">Extended Pub-Sub</a></dt><dt>2.7. <a href="ch02s02.html#figure-15">Request Distribution</a></dt><dt>2.8. <a href="ch02s02.html#figure-16">Extended Request-Reply</a></dt><dt>2.9. <a href="ch02s02.html#figure-17">Request-Reply Broker</a></dt><dt>2.10. <a href="ch02s02.html#figure-18">Pub-Sub Forwarder Proxy</a></dt><dt>2.11. <a href="ch02s03.html#figure-19">Parallel Pipeline with Kill Signaling</a></dt><dt>2.12. <a href="ch02s06.html#figure-20">Multithreaded Server</a></dt><dt>2.13. <a href="ch02s07.html#figure-21">The Relay Race</a></dt><dt>2.14. <a href="ch02s08.html#figure-22">Pub-Sub Synchronization</a></dt><dt>2.15. <a href="ch02s10.html#figure-23">Pub-Sub Envelope with Separate Key</a></dt><dt>2.16. <a href="ch02s10.html#figure-24">Pub-Sub Envelope with Sender Address</a></dt><dt>2.17. <a href="ch02s12.html#figure-25">Missing Message Problem Solver</a></dt><dt>3.1. <a href="ch03.html#figure-26">Request with Minimal Envelope</a></dt><dt>3.2. <a href="ch03.html#figure-27">Extended Request-Reply Pattern</a></dt><dt>3.3. <a href="ch03.html#figure-28">Request with One Address</a></dt><dt>3.4. <a href="ch03.html#figure-29">Reply with one Address</a></dt><dt>3.5. <a href="ch03.html#figure-30">Reply with Minimal Envelope</a></dt><dt>3.6. <a href="ch03s04.html#figure-31">Routing Envelope for REQ</a></dt><dt>3.7. <a href="ch03s04.html#figure-32">Load Balancing Broker</a></dt><dt>3.8. <a href="ch03s04.html#figure-33">Message that Client Sends</a></dt><dt>3.9. <a href="ch03s04.html#figure-34">Message Coming in on Frontend</a></dt><dt>3.10. <a href="ch03s04.html#figure-35">Message Sent to Backend</a></dt><dt>3.11. <a href="ch03s04.html#figure-36">Message Delivered to Worker</a></dt><dt>3.12. <a href="ch03s06.html#figure-37">Asynchronous Client/Server</a></dt><dt>3.13. <a href="ch03s06.html#figure-38">Detail of Asynchronous Server</a></dt><dt>3.14. <a href="ch03s07.html#figure-39">Cluster Architecture</a></dt><dt>3.15. <a href="ch03s07.html#figure-40">Multiple Clusters</a></dt><dt>3.16. <a href="ch03s07.html#figure-41">Idea 1: Cross-connected Workers</a></dt><dt>3.17. <a href="ch03s07.html#figure-42">Idea 2: Brokers Talking to Each Other</a></dt><dt>3.18. <a href="ch03s07.html#figure-43">Cross-connected Brokers in Federation Model</a></dt><dt>3.19. <a href="ch03s07.html#figure-44">Broker Socket Arrangement</a></dt><dt>3.20. <a href="ch03s07.html#figure-45">The State Flow</a></dt><dt>3.21. <a href="ch03s07.html#figure-46">The Flow of Tasks</a></dt><dt>4.1. <a href="ch04s03.html#figure-47">The Lazy Pirate Pattern</a></dt><dt>4.2. <a href="ch04s04.html#figure-48">The Simple Pirate Pattern</a></dt><dt>4.3. <a href="ch04s05.html#figure-49">The Paranoid Pirate Pattern</a></dt><dt>4.4. <a href="ch04s08.html#figure-50">The Majordomo Pattern</a></dt><dt>4.5. <a href="ch04s12.html#figure-51">The Titanic Pattern</a></dt><dt>4.6. <a href="ch04s13.html#figure-52">High-Availability Pair, Normal Operation</a></dt><dt>4.7. <a href="ch04s13.html#figure-53">High-availability Pair During Failover</a></dt><dt>4.8. <a href="ch04s13.html#figure-54">Binary Star Finite State Machine</a></dt><dt>4.9. <a href="ch04s14.html#figure-55">The Freelance Pattern</a></dt><dt>5.1. <a href="ch05s05.html#figure-56">The Simple Black Box Pattern</a></dt><dt>5.2. <a href="ch05s05.html#figure-57">Mad Black Box Pattern</a></dt><dt>5.3. <a href="ch05s06.html#figure-58">Publishing State Updates</a></dt><dt>5.4. <a href="ch05s06.html#figure-59">State Replication</a></dt><dt>5.5. <a href="ch05s06.html#figure-60">Republishing Updates</a></dt><dt>5.6. <a href="ch05s06.html#figure-61">Clone Client Finite State Machine</a></dt><dt>5.7. <a href="ch05s06.html#figure-62">High-availability Clone Server Pair</a></dt><dt>5.8. <a href="ch05s06.html#figure-63">Multithreaded API</a></dt><dt>7.1. <a href="ch07s05.html#figure-64">The Start State</a></dt><dt>7.2. <a href="ch07s05.html#figure-65">The Authenticated State</a></dt><dt>7.3. <a href="ch07s05.html#figure-66">The Ready State</a></dt><dt>8.1. <a href="ch08s05.html#figure-67">ZRE discovery message</a></dt><dt>8.2. <a href="ch08s07.html#figure-68">Zyre Tester Tool</a></dt><dt>8.3. <a href="ch08s08.html#figure-69">Distributed Log Collection</a></dt><dt>8.4. <a href="ch08s08.html#figure-70">Protocol Signature</a></dt></dl></div><div class="list-of-examples"><p><strong>List of Examples</strong></p><dl><dt>1.1. <a href="ch01s04.html#hwserver-c">Hello World server (hwserver.c)</a></dt><dt>1.2. <a href="ch01s04.html#hwserver-cpp">Hello World server (hwserver.cpp)</a></dt><dt>1.3. <a href="ch01s04.html#hwserver-php">Hello World server (hwserver.php)</a></dt><dt>1.4. <a href="ch01s04.html#hwserver-java">Hello World server (hwserver.java)</a></dt><dt>1.5. <a href="ch01s04.html#hwclient-c">Hello World client (hwclient.c)</a></dt><dt>1.6. <a href="ch01s06.html#version-c">ØMQ version reporting (version.c)</a></dt><dt>1.7. <a href="ch01s07.html#wuserver-c">Weather update server (wuserver.c)</a></dt><dt>1.8. <a href="ch01s07.html#wuclient-c">Weather update client (wuclient.c)</a></dt><dt>1.9. <a href="ch01s08.html#taskvent-c">Parallel task ventilator (taskvent.c)</a></dt><dt>1.10. <a href="ch01s08.html#taskwork-c">Parallel task worker (taskwork.c)</a></dt><dt>1.11. <a href="ch01s08.html#tasksink-c">Parallel task sink (tasksink.c)</a></dt><dt>2.1. <a href="ch02s02.html#msreader-c">Multiple socket reader (msreader.c)</a></dt><dt>2.2. <a href="ch02s02.html#mspoller-c">Multiple socket poller (mspoller.c)</a></dt><dt>2.3. <a href="ch02s02.html#rrclient-c">Request-reply client (rrclient.c)</a></dt><dt>2.4. <a href="ch02s02.html#rrworker-c">Request-reply worker (rrworker.c)</a></dt><dt>2.5. <a href="ch02s02.html#rrbroker-c">Request-reply broker (rrbroker.c)</a></dt><dt>2.6. <a href="ch02s02.html#msgqueue-c">Message queue broker (msgqueue.c)</a></dt><dt>2.7. <a href="ch02s02.html#wuproxy-c">Weather update proxy (wuproxy.c)</a></dt><dt>2.8. <a href="ch02s03.html#taskwork2-c">Parallel task worker with kill signaling (taskwork2.c)</a></dt><dt>2.9. <a href="ch02s03.html#tasksink2-c">Parallel task sink with kill signaling (tasksink2.c)</a></dt><dt>2.10. <a href="ch02s04.html#interrupt-c">Handling Ctrl-C cleanly (interrupt.c)</a></dt><dt>2.11. <a href="ch02s06.html#mtserver-c">Multithreaded service (mtserver.c)</a></dt><dt>2.12. <a href="ch02s07.html#mtrelay-c">Multithreaded relay (mtrelay.c)</a></dt><dt>2.13. <a href="ch02s08.html#syncpub-c">Synchronized publisher (syncpub.c)</a></dt><dt>2.14. <a href="ch02s08.html#syncsub-c">Synchronized subscriber (syncsub.c)</a></dt><dt>2.15. <a href="ch02s10.html#psenvpub-c">Pub-Sub envelope publisher (psenvpub.c)</a></dt><dt>2.16. <a href="ch02s10.html#psenvsub-c">Pub-Sub envelope subscriber (psenvsub.c)</a></dt><dt>3.1. <a href="ch03s03.html#identity-c">Identity check (identity.c)</a></dt><dt>3.2. <a href="ch03s04.html#rtreq-c">ROUTER-to-REQ (rtreq.c)</a></dt><dt>3.3. <a href="ch03s04.html#rtreq-c-1">ROUTER-to-REQ (rtreq.c) - main task</a></dt><dt>3.4. <a href="ch03s04.html#rtdealer-c">ROUTER-to-DEALER (rtdealer.c)</a></dt><dt>3.5. <a href="ch03s04.html#lbbroker-c">Load balancing broker (lbbroker.c)</a></dt><dt>3.6. <a href="ch03s04.html#lbbroker-c-1">Load balancing broker (lbbroker.c) - worker task</a></dt><dt>3.7. <a href="ch03s04.html#lbbroker-c-2">Load balancing broker (lbbroker.c) - main task</a></dt><dt>3.8. <a href="ch03s04.html#lbbroker-c-3">Load balancing broker (lbbroker.c) - main task body</a></dt><dt>3.9. <a href="ch03s04.html#lbbroker-c-4">Load balancing broker (lbbroker.c) - handling a client request</a></dt><dt>3.10. <a href="ch03s05.html#lbbroker2-c">Load balancing broker using high-level API (lbbroker2.c)</a></dt><dt>3.11. <a href="ch03s05.html#lbbroker2-c-1">Load balancing broker using high-level API (lbbroker2.c) - main task</a></dt><dt>3.12. <a href="ch03s05.html#lbbroker2-c-2">Load balancing broker using high-level API (lbbroker2.c) - main load-balancer loop</a></dt><dt>3.13. <a href="ch03s05.html#lbbroker3-c">Load balancing broker using zloop (lbbroker3.c)</a></dt><dt>3.14. <a href="ch03s05.html#lbbroker3-c-1">Load balancing broker using zloop (lbbroker3.c) - reactor design</a></dt><dt>3.15. <a href="ch03s05.html#lbbroker3-c-2">Load balancing broker using zloop (lbbroker3.c) - main task</a></dt><dt>3.16. <a href="ch03s06.html#asyncsrv-c">Asynchronous client/server (asyncsrv.c)</a></dt><dt>3.17. <a href="ch03s06.html#asyncsrv-c-1">Asynchronous client/server (asyncsrv.c) - server task</a></dt><dt>3.18. <a href="ch03s06.html#asyncsrv-c-2">Asynchronous client/server (asyncsrv.c) - worker task</a></dt><dt>3.19. <a href="ch03s07.html#peering1-c">Prototype state flow (peering1.c)</a></dt><dt>3.20. <a href="ch03s07.html#peering1-c-1">Prototype state flow (peering1.c) - main loop</a></dt><dt>3.21. <a href="ch03s07.html#peering2-c">Prototype local and cloud flow (peering2.c)</a></dt><dt>3.22. <a href="ch03s07.html#peering2-c-1">Prototype local and cloud flow (peering2.c) - client task</a></dt><dt>3.23. <a href="ch03s07.html#peering2-c-2">Prototype local and cloud flow (peering2.c) - worker task</a></dt><dt>3.24. <a href="ch03s07.html#peering2-c-3">Prototype local and cloud flow (peering2.c) - main task</a></dt><dt>3.25. <a href="ch03s07.html#peering2-c-4">Prototype local and cloud flow (peering2.c) - request-reply handling</a></dt><dt>3.26. <a href="ch03s07.html#peering2-c-5">Prototype local and cloud flow (peering2.c) - route client requests</a></dt><dt>3.27. <a href="ch03s07.html#peering3-c">Full cluster simulation (peering3.c)</a></dt><dt>3.28. <a href="ch03s07.html#peering3-c-1">Full cluster simulation (peering3.c) - client task</a></dt><dt>3.29. <a href="ch03s07.html#peering3-c-2">Full cluster simulation (peering3.c) - worker task</a></dt><dt>3.30. <a href="ch03s07.html#peering3-c-3">Full cluster simulation (peering3.c) - main task</a></dt><dt>3.31. <a href="ch03s07.html#peering3-c-4">Full cluster simulation (peering3.c) - start child tasks</a></dt><dt>3.32. <a href="ch03s07.html#peering3-c-5">Full cluster simulation (peering3.c) - main loop</a></dt><dt>3.33. <a href="ch03s07.html#peering3-c-6">Full cluster simulation (peering3.c) - handle state messages</a></dt><dt>3.34. <a href="ch03s07.html#peering3-c-7">Full cluster simulation (peering3.c) - route client requests</a></dt><dt>3.35. <a href="ch03s07.html#peering3-c-8">Full cluster simulation (peering3.c) - broadcast capacity</a></dt><dt>4.1. <a href="ch04s03.html#lpclient-c">Lazy Pirate client (lpclient.c)</a></dt><dt>4.2. <a href="ch04s03.html#lpclient-c-1">Lazy Pirate client (lpclient.c) - process server reply</a></dt><dt>4.3. <a href="ch04s03.html#lpserver-c">Lazy Pirate server (lpserver.c)</a></dt><dt>4.4. <a href="ch04s04.html#spqueue-c">Simple Pirate queue (spqueue.c)</a></dt><dt>4.5. <a href="ch04s04.html#spworker-c">Simple Pirate worker (spworker.c)</a></dt><dt>4.6. <a href="ch04s05.html#ppqueue-c">Paranoid Pirate queue (ppqueue.c)</a></dt><dt>4.7. <a href="ch04s05.html#ppqueue-c-1">Paranoid Pirate queue (ppqueue.c) - worker class structure</a></dt><dt>4.8. <a href="ch04s05.html#ppqueue-c-2">Paranoid Pirate queue (ppqueue.c) - worker ready method</a></dt><dt>4.9. <a href="ch04s05.html#ppqueue-c-3">Paranoid Pirate queue (ppqueue.c) - get next available worker</a></dt><dt>4.10. <a href="ch04s05.html#ppqueue-c-4">Paranoid Pirate queue (ppqueue.c) - purge expired workers</a></dt><dt>4.11. <a href="ch04s05.html#ppqueue-c-5">Paranoid Pirate queue (ppqueue.c) - main task</a></dt><dt>4.12. <a href="ch04s05.html#ppqueue-c-6">Paranoid Pirate queue (ppqueue.c) - handle heartbeating</a></dt><dt>4.13. <a href="ch04s05.html#ppworker-c">Paranoid Pirate worker (ppworker.c)</a></dt><dt>4.14. <a href="ch04s05.html#ppworker-c-1">Paranoid Pirate worker (ppworker.c) - main task</a></dt><dt>4.15. <a href="ch04s05.html#ppworker-c-2">Paranoid Pirate worker (ppworker.c) - simulating problems</a></dt><dt>4.16. <a href="ch04s05.html#ppworker-c-3">Paranoid Pirate worker (ppworker.c) - handle heartbeats</a></dt><dt>4.17. <a href="ch04s05.html#ppworker-c-4">Paranoid Pirate worker (ppworker.c) - detecting a dead queue</a></dt><dt>4.18. <a href="ch04s08.html#mdcliapi-c">Majordomo client API (mdcliapi.c)</a></dt><dt>4.19. <a href="ch04s08.html#mdcliapi-c-1">Majordomo client API (mdcliapi.c) - constructor and destructor</a></dt><dt>4.20. <a href="ch04s08.html#mdcliapi-c-2">Majordomo client API (mdcliapi.c) - configure retry behavior</a></dt><dt>4.21. <a href="ch04s08.html#mdcliapi-c-3">Majordomo client API (mdcliapi.c) - send request and wait for reply</a></dt><dt>4.22. <a href="ch04s08.html#mdcliapi-c-4">Majordomo client API (mdcliapi.c) - body of send </a></dt><dt>4.23. <a href="ch04s08.html#mdclient-c">Majordomo client application (mdclient.c)</a></dt><dt>4.24. <a href="ch04s08.html#mdwrkapi-c">Majordomo worker API (mdwrkapi.c)</a></dt><dt>4.25. <a href="ch04s08.html#mdwrkapi-c-1">Majordomo worker API (mdwrkapi.c) - worker class structure</a></dt><dt>4.26. <a href="ch04s08.html#mdwrkapi-c-2">Majordomo worker API (mdwrkapi.c) - utility functions</a></dt><dt>4.27. <a href="ch04s08.html#mdwrkapi-c-3">Majordomo worker API (mdwrkapi.c) - constructor and destructor</a></dt><dt>4.28. <a href="ch04s08.html#mdwrkapi-c-4">Majordomo worker API (mdwrkapi.c) - configure worker</a></dt><dt>4.29. <a href="ch04s08.html#mdwrkapi-c-5">Majordomo worker API (mdwrkapi.c) - recv method</a></dt><dt>4.30. <a href="ch04s08.html#mdwrkapi-c-6">Majordomo worker API (mdwrkapi.c) - process message</a></dt><dt>4.31. <a href="ch04s08.html#mdworker-c">Majordomo worker application (mdworker.c)</a></dt><dt>4.32. <a href="ch04s08.html#mdbroker-c">Majordomo broker (mdbroker.c)</a></dt><dt>4.33. <a href="ch04s08.html#mdbroker-c-1">Majordomo broker (mdbroker.c) - broker class structure</a></dt><dt>4.34. <a href="ch04s08.html#mdbroker-c-2">Majordomo broker (mdbroker.c) - service class structure</a></dt><dt>4.35. <a href="ch04s08.html#mdbroker-c-3">Majordomo broker (mdbroker.c) - worker class structure</a></dt><dt>4.36. <a href="ch04s08.html#mdbroker-c-4">Majordomo broker (mdbroker.c) - broker constructor and destructor</a></dt><dt>4.37. <a href="ch04s08.html#mdbroker-c-5">Majordomo broker (mdbroker.c) - broker bind method</a></dt><dt>4.38. <a href="ch04s08.html#mdbroker-c-6">Majordomo broker (mdbroker.c) - broker worker_msg method</a></dt><dt>4.39. <a href="ch04s08.html#mdbroker-c-7">Majordomo broker (mdbroker.c) - broker client_msg method</a></dt><dt>4.40. <a href="ch04s08.html#mdbroker-c-8">Majordomo broker (mdbroker.c) - broker purge method</a></dt><dt>4.41. <a href="ch04s08.html#mdbroker-c-9">Majordomo broker (mdbroker.c) - service methods</a></dt><dt>4.42. <a href="ch04s08.html#mdbroker-c-10">Majordomo broker (mdbroker.c) - service dispatch method</a></dt><dt>4.43. <a href="ch04s08.html#mdbroker-c-11">Majordomo broker (mdbroker.c) - worker methods</a></dt><dt>4.44. <a href="ch04s08.html#mdbroker-c-12">Majordomo broker (mdbroker.c) - worker send method</a></dt><dt>4.45. <a href="ch04s08.html#mdbroker-c-13">Majordomo broker (mdbroker.c) - main task</a></dt><dt>4.46. <a href="ch04s09.html#tripping-c">Round-trip demonstrator (tripping.c)</a></dt><dt>4.47. <a href="ch04s09.html#tripping-c-1">Round-trip demonstrator (tripping.c) - worker task</a></dt><dt>4.48. <a href="ch04s09.html#tripping-c-2">Round-trip demonstrator (tripping.c) - broker task</a></dt><dt>4.49. <a href="ch04s09.html#tripping-c-3">Round-trip demonstrator (tripping.c) - main task</a></dt><dt>4.50. <a href="ch04s09.html#mdcliapi2-c">Majordomo asynchronous client API (mdcliapi2.c)</a></dt><dt>4.51. <a href="ch04s09.html#mdclient2-c">Majordomo client application (mdclient2.c)</a></dt><dt>4.52. <a href="ch04s10.html#mmiecho-c">Service discovery over Majordomo (mmiecho.c)</a></dt><dt>4.53. <a href="ch04s12.html#ticlient-c">Titanic client example (ticlient.c)</a></dt><dt>4.54. <a href="ch04s12.html#ticlient-c-1">Titanic client example (ticlient.c) - main task</a></dt><dt>4.55. <a href="ch04s12.html#titanic-c">Titanic broker example (titanic.c)</a></dt><dt>4.56. <a href="ch04s12.html#titanic-c-1">Titanic broker example (titanic.c) - Titanic request service</a></dt><dt>4.57. <a href="ch04s12.html#titanic-c-2">Titanic broker example (titanic.c) - Titanic reply service</a></dt><dt>4.58. <a href="ch04s12.html#titanic-c-3">Titanic broker example (titanic.c) - Titanic close task</a></dt><dt>4.59. <a href="ch04s12.html#titanic-c-4">Titanic broker example (titanic.c) - worker task</a></dt><dt>4.60. <a href="ch04s12.html#titanic-c-5">Titanic broker example (titanic.c) - try to call a service</a></dt><dt>4.61. <a href="ch04s13.html#bstarsrv-c">Binary Star server (bstarsrv.c)</a></dt><dt>4.62. <a href="ch04s13.html#bstarsrv-c-1">Binary Star server (bstarsrv.c) - Binary Star state machine</a></dt><dt>4.63. <a href="ch04s13.html#bstarsrv-c-2">Binary Star server (bstarsrv.c) - active and passive states</a></dt><dt>4.64. <a href="ch04s13.html#bstarsrv-c-3">Binary Star server (bstarsrv.c) - main task</a></dt><dt>4.65. <a href="ch04s13.html#bstarsrv-c-4">Binary Star server (bstarsrv.c) - handling socket input</a></dt><dt>4.66. <a href="ch04s13.html#bstarcli-c">Binary Star client (bstarcli.c)</a></dt><dt>4.67. <a href="ch04s13.html#bstarcli-c-1">Binary Star client (bstarcli.c) - main body of client</a></dt><dt>4.68. <a href="ch04s13.html#bstar-c">Binary Star core class (bstar.c)</a></dt><dt>4.69. <a href="ch04s13.html#bstar-c-1">Binary Star core class (bstar.c) - constructor</a></dt><dt>4.70. <a href="ch04s13.html#bstar-c-2">Binary Star core class (bstar.c) - destructor</a></dt><dt>4.71. <a href="ch04s13.html#bstar-c-3">Binary Star core class (bstar.c) - zloop method</a></dt><dt>4.72. <a href="ch04s13.html#bstar-c-4">Binary Star core class (bstar.c) - voter method</a></dt><dt>4.73. <a href="ch04s13.html#bstar-c-5">Binary Star core class (bstar.c) - register state-change handlers</a></dt><dt>4.74. <a href="ch04s13.html#bstar-c-6">Binary Star core class (bstar.c) - enable/disable tracing</a></dt><dt>4.75. <a href="ch04s13.html#bstar-c-7">Binary Star core class (bstar.c) - start the reactor</a></dt><dt>4.76. <a href="ch04s13.html#bstarsrv2-c">Binary Star server, using core class (bstarsrv2.c)</a></dt><dt>4.77. <a href="ch04s14.html#flserver1-c">Freelance server, Model One (flserver1.c)</a></dt><dt>4.78. <a href="ch04s14.html#flclient1-c">Freelance client, Model One (flclient1.c)</a></dt><dt>4.79. <a href="ch04s14.html#flclient1-c-1">Freelance client, Model One (flclient1.c) - client task</a></dt><dt>4.80. <a href="ch04s14.html#flserver2-c">Freelance server, Model Two (flserver2.c)</a></dt><dt>4.81. <a href="ch04s14.html#flclient2-c">Freelance client, Model Two (flclient2.c)</a></dt><dt>4.82. <a href="ch04s14.html#flclient2-c-1">Freelance client, Model Two (flclient2.c) - class implementation</a></dt><dt>4.83. <a href="ch04s14.html#flclient2-c-2">Freelance client, Model Two (flclient2.c) - request method</a></dt><dt>4.84. <a href="ch04s14.html#flserver3-c">Freelance server, Model Three (flserver3.c)</a></dt><dt>4.85. <a href="ch04s14.html#flclient3-c">Freelance client, Model Three (flclient3.c)</a></dt><dt>4.86. <a href="ch04s14.html#flcliapi-c">Freelance client API (flcliapi.c)</a></dt><dt>4.87. <a href="ch04s14.html#flcliapi-c-1">Freelance client API (flcliapi.c) - API structure</a></dt><dt>4.88. <a href="ch04s14.html#flcliapi-c-2">Freelance client API (flcliapi.c) - connect method</a></dt><dt>4.89. <a href="ch04s14.html#flcliapi-c-3">Freelance client API (flcliapi.c) - request method</a></dt><dt>4.90. <a href="ch04s14.html#flcliapi-c-4">Freelance client API (flcliapi.c) - backend agent</a></dt><dt>4.91. <a href="ch04s14.html#flcliapi-c-5">Freelance client API (flcliapi.c) - backend agent class</a></dt><dt>4.92. <a href="ch04s14.html#flcliapi-c-6">Freelance client API (flcliapi.c) - control messages</a></dt><dt>4.93. <a href="ch04s14.html#flcliapi-c-7">Freelance client API (flcliapi.c) - router messages</a></dt><dt>4.94. <a href="ch04s14.html#flcliapi-c-8">Freelance client API (flcliapi.c) - backend agent implementation</a></dt><dt>5.1. <a href="ch05s02.html#espresso-c">Espresso Pattern (espresso.c)</a></dt><dt>5.2. <a href="ch05s02.html#espresso-c-1">Espresso Pattern (espresso.c) - publisher thread</a></dt><dt>5.3. <a href="ch05s02.html#espresso-c-2">Espresso Pattern (espresso.c) - listener thread</a></dt><dt>5.4. <a href="ch05s02.html#espresso-c-3">Espresso Pattern (espresso.c) - main thread</a></dt><dt>5.5. <a href="ch05s03.html#pathopub-c">Pathologic Publisher (pathopub.c)</a></dt><dt>5.6. <a href="ch05s03.html#pathosub-c">Pathologic Subscriber (pathosub.c)</a></dt><dt>5.7. <a href="ch05s03.html#lvcache-c">Last Value Caching Proxy (lvcache.c)</a></dt><dt>5.8. <a href="ch05s03.html#lvcache-c-1">Last Value Caching Proxy (lvcache.c) - main poll loop</a></dt><dt>5.9. <a href="ch05s03.html#lvcache-c-2">Last Value Caching Proxy (lvcache.c) - handle subscriptions</a></dt><dt>5.10. <a href="ch05s04.html#suisnail-c">Suicidal Snail (suisnail.c)</a></dt><dt>5.11. <a href="ch05s04.html#suisnail-c-1">Suicidal Snail (suisnail.c) - publisher task</a></dt><dt>5.12. <a href="ch05s04.html#suisnail-c-2">Suicidal Snail (suisnail.c) - main task</a></dt><dt>5.13. <a href="ch05s06.html#clonesrv1-c">Clone server, Model One (clonesrv1.c)</a></dt><dt>5.14. <a href="ch05s06.html#clonecli1-c">Clone client, Model One (clonecli1.c)</a></dt><dt>5.15. <a href="ch05s06.html#kvsimple-c">Key-value message class (kvsimple.c)</a></dt><dt>5.16. <a href="ch05s06.html#kvsimple-c-1">Key-value message class (kvsimple.c) - constructor and destructor</a></dt><dt>5.17. <a href="ch05s06.html#kvsimple-c-2">Key-value message class (kvsimple.c) - recv method</a></dt><dt>5.18. <a href="ch05s06.html#kvsimple-c-3">Key-value message class (kvsimple.c) - send method</a></dt><dt>5.19. <a href="ch05s06.html#kvsimple-c-4">Key-value message class (kvsimple.c) - key methods</a></dt><dt>5.20. <a href="ch05s06.html#kvsimple-c-5">Key-value message class (kvsimple.c) - sequence methods</a></dt><dt>5.21. <a href="ch05s06.html#kvsimple-c-6">Key-value message class (kvsimple.c) - message body methods</a></dt><dt>5.22. <a href="ch05s06.html#kvsimple-c-7">Key-value message class (kvsimple.c) - size method</a></dt><dt>5.23. <a href="ch05s06.html#kvsimple-c-8">Key-value message class (kvsimple.c) - store method</a></dt><dt>5.24. <a href="ch05s06.html#kvsimple-c-9">Key-value message class (kvsimple.c) - dump method</a></dt><dt>5.25. <a href="ch05s06.html#kvsimple-c-10">Key-value message class (kvsimple.c) - test method</a></dt><dt>5.26. <a href="ch05s06.html#clonesrv2-c">Clone server, Model Two (clonesrv2.c)</a></dt><dt>5.27. <a href="ch05s06.html#clonesrv2-c-1">Clone server, Model Two (clonesrv2.c) - state manager</a></dt><dt>5.28. <a href="ch05s06.html#clonecli2-c">Clone client, Model Two (clonecli2.c)</a></dt><dt>5.29. <a href="ch05s06.html#clonesrv3-c">Clone server, Model Three (clonesrv3.c)</a></dt><dt>5.30. <a href="ch05s06.html#clonesrv3-c-1">Clone server, Model Three (clonesrv3.c) - body of main task</a></dt><dt>5.31. <a href="ch05s06.html#clonecli3-c">Clone client, Model Three (clonecli3.c)</a></dt><dt>5.32. <a href="ch05s06.html#clonecli3-c-1">Clone client, Model Three (clonecli3.c) - getting a state snapshot</a></dt><dt>5.33. <a href="ch05s06.html#clonecli3-c-2">Clone client, Model Three (clonecli3.c) - processing state updates</a></dt><dt>5.34. <a href="ch05s06.html#clonesrv4-c">Clone server, Model Four (clonesrv4.c)</a></dt><dt>5.35. <a href="ch05s06.html#clonecli4-c">Clone client, Model Four (clonecli4.c)</a></dt><dt>5.36. <a href="ch05s06.html#kvmsg-c">Key-value message class: full (kvmsg.c)</a></dt><dt>5.37. <a href="ch05s06.html#kvmsg-c-1">Key-value message class: full (kvmsg.c) - property encoding</a></dt><dt>5.38. <a href="ch05s06.html#kvmsg-c-2">Key-value message class: full (kvmsg.c) - constructor and destructor</a></dt><dt>5.39. <a href="ch05s06.html#kvmsg-c-3">Key-value message class: full (kvmsg.c) - recv method</a></dt><dt>5.40. <a href="ch05s06.html#kvmsg-c-4">Key-value message class: full (kvmsg.c) - dup method</a></dt><dt>5.41. <a href="ch05s06.html#kvmsg-c-5">Key-value message class: full (kvmsg.c) - UUID methods</a></dt><dt>5.42. <a href="ch05s06.html#kvmsg-c-6">Key-value message class: full (kvmsg.c) - property methods</a></dt><dt>5.43. <a href="ch05s06.html#kvmsg-c-7">Key-value message class: full (kvmsg.c) - store method</a></dt><dt>5.44. <a href="ch05s06.html#kvmsg-c-8">Key-value message class: full (kvmsg.c) - dump method</a></dt><dt>5.45. <a href="ch05s06.html#kvmsg-c-9">Key-value message class: full (kvmsg.c) - test method</a></dt><dt>5.46. <a href="ch05s06.html#clonesrv5-c">Clone server, Model Five (clonesrv5.c)</a></dt><dt>5.47. <a href="ch05s06.html#clonesrv5-c-1">Clone server, Model Five (clonesrv5.c) - send snapshots</a></dt><dt>5.48. <a href="ch05s06.html#clonesrv5-c-2">Clone server, Model Five (clonesrv5.c) - snapshot handler</a></dt><dt>5.49. <a href="ch05s06.html#clonesrv5-c-3">Clone server, Model Five (clonesrv5.c) - collect updates</a></dt><dt>5.50. <a href="ch05s06.html#clonesrv5-c-4">Clone server, Model Five (clonesrv5.c) - flush ephemeral values</a></dt><dt>5.51. <a href="ch05s06.html#clonesrv6-c">Clone server, Model Six (clonesrv6.c)</a></dt><dt>5.52. <a href="ch05s06.html#clonesrv6-c-1">Clone server, Model Six (clonesrv6.c) - definitions</a></dt><dt>5.53. <a href="ch05s06.html#clonesrv6-c-2">Clone server, Model Six (clonesrv6.c) - main task setup</a></dt><dt>5.54. <a href="ch05s06.html#clonesrv6-c-3">Clone server, Model Six (clonesrv6.c) - main task body</a></dt><dt>5.55. <a href="ch05s06.html#clonesrv6-c-4">Clone server, Model Six (clonesrv6.c) - collect updates</a></dt><dt>5.56. <a href="ch05s06.html#clonesrv6-c-5">Clone server, Model Six (clonesrv6.c) - heartbeating</a></dt><dt>5.57. <a href="ch05s06.html#clonesrv6-c-6">Clone server, Model Six (clonesrv6.c) - handling state changes</a></dt><dt>5.58. <a href="ch05s06.html#clonesrv6-c-7">Clone server, Model Six (clonesrv6.c) - subscriber handler</a></dt><dt>5.59. <a href="ch05s06.html#clonecli6-c">Clone client, Model Six (clonecli6.c)</a></dt><dt>5.60. <a href="ch05s06.html#clone-c">Clone class (clone.c)</a></dt><dt>5.61. <a href="ch05s06.html#clone-c-1">Clone class (clone.c) - constructor and destructor</a></dt><dt>5.62. <a href="ch05s06.html#clone-c-2">Clone class (clone.c) - subtree method</a></dt><dt>5.63. <a href="ch05s06.html#clone-c-3">Clone class (clone.c) - connect method</a></dt><dt>5.64. <a href="ch05s06.html#clone-c-4">Clone class (clone.c) - set method</a></dt><dt>5.65. <a href="ch05s06.html#clone-c-5">Clone class (clone.c) - get method</a></dt><dt>5.66. <a href="ch05s06.html#clone-c-6">Clone class (clone.c) - working with servers</a></dt><dt>5.67. <a href="ch05s06.html#clone-c-7">Clone class (clone.c) - backend agent class</a></dt><dt>5.68. <a href="ch05s06.html#clone-c-8">Clone class (clone.c) - handling a control message</a></dt><dt>5.69. <a href="ch05s06.html#clone-c-9">Clone class (clone.c) - set and get commands</a></dt><dt>5.70. <a href="ch05s06.html#clone-c-10">Clone class (clone.c) - backend agent</a></dt><dt>5.71. <a href="ch05s06.html#clone-c-11">Clone class (clone.c) - client poll loop</a></dt><dt>7.1. <a href="ch07s04.html#fileio1-c">File transfer test, model 1 (fileio1.c)</a></dt><dt>7.2. <a href="ch07s04.html#fileio1-c-1">File transfer test, model 1 (fileio1.c) - File server thread</a></dt><dt>7.3. <a href="ch07s04.html#fileio1-c-2">File transfer test, model 1 (fileio1.c) - File main thread</a></dt><dt>7.4. <a href="ch07s04.html#fileio2-c">File transfer test, model 2 (fileio2.c)</a></dt><dt>7.5. <a href="ch07s04.html#fileio2-c-1">File transfer test, model 2 (fileio2.c) - File server thread</a></dt><dt>7.6. <a href="ch07s04.html#fileio3-c">File transfer test, model 3 (fileio3.c)</a></dt><dt>8.1. <a href="ch08s03.html#dechat-c">Decentralized Chat (dechat.c)</a></dt><dt>8.2. <a href="ch08s03.html#udpping1-c">UDP discovery, model 1 (udpping1.c)</a></dt><dt>8.3. <a href="ch08s03.html#udpping1-c-1">UDP discovery, model 1 (udpping1.c) - main ping loop</a></dt><dt>8.4. <a href="ch08s03.html#udpping2-c">UDP discovery, model 2 (udpping2.c)</a></dt><dt>8.5. <a href="ch08s03.html#udpping3-c">UDP discovery, model 3 (udpping3.c)</a></dt><dt>8.6. <a href="ch08s03.html#interface-c">UDP ping interface (interface.c)</a></dt><dt>8.7. <a href="ch08s03.html#interface-c-1">UDP ping interface (interface.c) - constructor and destructor</a></dt><dt>8.8. <a href="ch08s03.html#interface-c-2">UDP ping interface (interface.c) - receive message</a></dt><dt>8.9. <a href="ch08s03.html#interface-c-3">UDP ping interface (interface.c) - peer class</a></dt><dt>8.10. <a href="ch08s03.html#interface-c-4">UDP ping interface (interface.c) - peer constructor and destructor</a></dt><dt>8.11. <a href="ch08s03.html#interface-c-5">UDP ping interface (interface.c) - peer methods</a></dt><dt>8.12. <a href="ch08s03.html#interface-c-6">UDP ping interface (interface.c) - agent class</a></dt><dt>8.13. <a href="ch08s03.html#interface-c-7">UDP ping interface (interface.c) - agent constructor and destructor</a></dt><dt>8.14. <a href="ch08s03.html#interface-c-8">UDP ping interface (interface.c) - handle beacon</a></dt><dt>8.15. <a href="ch08s03.html#interface-c-9">UDP ping interface (interface.c) - reap peers</a></dt><dt>8.16. <a href="ch08s03.html#interface-c-10">UDP ping interface (interface.c) - agent main loop</a></dt><dt>8.17. <a href="ch08s07.html#eagain-c">Checking EAGAIN on DEALER socket (eagain.c)</a></dt></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pr01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> Preface</td></tr></table></div></body></html>
